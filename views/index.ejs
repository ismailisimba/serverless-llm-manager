<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gemma Chat UI</title>
    <link rel="stylesheet" href="/css/style.css">
    <script src="/js/marked.js"></script>
</head>
<body>
    <div class="menu-container">
        <button id="menu-toggle" aria-label="Toggle Menu" aria-expanded="false">
             â˜° </button>
        <nav class="app-menu" id="app-menu-content" aria-labelledby="menu-toggle">
            <ul>
                <li>
                    <div id="donate-section">
                        <label for="phone-number">Nambari ya Simu (Phone):</label>
                        <input type="tel" id="phone-number" name="phone-number" placeholder="+255xxxxxxxxx" required>
                        <button id="donate-button" type="button">Changia TZS 1,500 (Donate)</button>
                        <p id="donation-status" class="status-message"></p>
                    </div>
                </li>
                </ul>
        </nav>
    </div>
    
    <button id="theme-toggle">Toggle Theme</button>

    <h1>Gemma Chat Interface</h1>

    <div id="download-buttons" style="margin-bottom: 15px;">
        <button id="download-txt">Download TXT</button>
        <button id="download-docx">Download DOCX</button>
        <button id="download-pdf">Download PDF</button>
    </div>

    <div id="chat-output">
        <h2>Conversation</h2>

    </div>
    <hr />

    <div id="current-response-placeholder" class="result-box" style="display: none; min-height: 50px;">
        <strong>Gemma:</strong>
        <div class="loader" id="css-loader" style="display: none;"></div>
        <div id="streaming-content"></div>
        <div id="loading-indicator" style="margin-top: 10px; display: none;">Receiving response...</div>
    </div>

    <div id="js-error-box" class="error-box" style="display: none;"></div>


    <form id="prompt-form" enctype="multipart/form-data">
        <div>
            <label for="prompt">Enter your prompt:</label>
            <textarea id="prompt" name="prompt" rows="5" required placeholder="e.g., Describe this image..."></textarea>
        </div>

        <div style="margin-top: 10px;">
            <label for="images">Upload Images (Optional):</label>
            <input type="file" id="images" name="images" multiple accept="image/*">
             <small>(Max 5MB per file recommended)</small> </div>
        <div style="margin-top: 15px;">
            <button type="submit" id="submit-button">Send</button>
        </div>
    </form>


    <script src="/js/DonationHandler.js"></script>
    <script src="/js/main.js" type="module"></script>
</body>
</html>